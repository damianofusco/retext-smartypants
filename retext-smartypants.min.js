!function(b,a){typeof exports==='object'&&typeof module!=='undefined'?module.exports=b():typeof define==='function'&&define.amd?define([],b):(typeof window!=='undefined'?a=window:typeof global!=='undefined'?a=global:typeof self!=='undefined'?a=self:a=this,a.retextSmartypants=b())}(function(){return function a(b,c,e){function f(d,k){if(!c[d]){if(!b[d]){var i=typeof require=='function'&&require;if(!k&&i)return i(d,!0);if(g)return g(d,!0);var j=new Error("Cannot find module '"+d+"'");throw j.code='MODULE_NOT_FOUND',j}var h=c[d]={exports:{}};b[d][0].call(h.exports,function(c){var a=b[d][1][c];return f(a?a:c)},h,h.exports,a,b,c,e)}return c[d].exports}var g=typeof require=='function'&&require;for(var d=0;d<e.length;d++)f(e[d]);return f}({1:[function(u,L,M){'use strict';function K(a){a.value===j&&(a.value=k)}function J(a){a.value===o?a.value=k:a.value===j&&(a.value=r)}function D(a){a.value===o?a.value=r:a.value===j&&(a.value=k)}function x(a){a.value===B?a.value=l:a.value===A&&(a.value=m)}function H(a){x(a),a.value===C?a.value=p:a.value===d&&(a.value=q)}function G(d,l,o){var k=d.value,c=o.children,b,h,a,j,i,m;if(z.test(d.value)){d.value=s;return}if(!n.test(k))return;h=[],b=l,i=1;while(--b>0){if(a=c[b],a.type!==g)break;if(m=a,a=c[--b],j=a&&a.type,a&&(j===e||j===f)&&n.test(a.value)){h.push(m,a),i++;continue}break}if(i<3)return;c.splice(l-h.length,h.length),d.value=s}function F(l,p,q){var o=q.children,a=l.value,j,n,k,m;if(a!==h&&a!==d)return;k=o[p-1],j=o[p+1],n=o[p+2],m=j&&w(j),j&&n&&(j.type===e||j.type===f)&&n.type!==i?l.value=b[a]:n&&(m===h||m===d)&&n.type===i?(l.value=c[a],j.value=c[m]):j&&t.test(m)?l.value=b[a]:k&&j&&(k.type===g||k.type===e||k.type===f)&&j.type===i?l.value=c[a]:k&&k.type!==g&&k.type!==f&&k.type!==e?l.value=b[a]:!j||j.type===g||(a===d||a===y)&&m==='s'?l.value=b[a]:l.value=c[a]}function I(a){function c(c){v(c,function(c,g,h){var d;if(c.type===e||c.type===f){d=-1;while(++d<b)a[d](c,g,h)}})}var b=a.length;return c}function E(h,b){var g=[],d,f,c,e;if(b||(b={}),'quotes'in b){if(d=b.quotes,d!==Boolean(d))throw new TypeError('Illegal invocation: `'+d+'` '+'is not a valid value for `quotes` in '+'`smartypants`')}else d=!0;if('ellipses'in b){if(f=b.ellipses,f!==Boolean(f))throw new TypeError('Illegal invocation: `'+f+'` '+'is not a valid value for `ellipses` in '+'`smartypants`')}else f=!0;if('backticks'in b){if(c=b.backticks,c!==Boolean(c)&&c!=='all')throw new TypeError('Illegal invocation: `'+c+'` '+'is not a valid value for `backticks` in '+'`smartypants`');if(c==='all'&&d===!0)throw new TypeError('Illegal invocation: `backticks: '+c+'` is not a valid value '+'when `quotes: '+d+'` in '+'`smartypants`')}else c=!0;if('dashes'in b){if(e=b.dashes,e!==Boolean(e)&&e!=='oldschool'&&e!=='inverted')throw new TypeError('Illegal invocation: `'+e+'` '+'is not a valid value for `dahes` in '+'`smartypants`')}else e=!0;return d!==!1&&g.push(a.quotes[d]),f!==!1&&g.push(a.ellipses[f]),c!==!1&&g.push(a.backticks[c]),e!==!1&&g.push(a.dashes[e]),I(g)}var v=u('unist-util-visit'),w=u('nlcst-to-string'),e='PunctuationNode',f='SymbolNode',i='WordNode',g='WhiteSpaceNode',t=/^\d\ds$/,z=/^\.{3,}$/,n=/^\.+$/,o='---',j='--',k='—',r='–',s='…',B='``',C='`',A="''",d="'",y='’',h='"',l='“',m='”',p='‘',q='’',b={},c={};c[h]=l,b[h]=m,c[d]=p,b[d]=q;var a={};a.dashes={true:K,oldschool:J,inverted:D},a.backticks={true:x,all:H},a.ellipses={true:G},a.quotes={true:F},L.exports=E},{'nlcst-to-string':2,'unist-util-visit':3}],2:[function(c,b,d){'use strict';function a(d){var e,b,c;if(typeof d.value==='string')return d.value;if(c=d.children,b=c.length,b===1&&'value'in c[0])return c[0].value;e=[];while(b--)e[b]=a(c[b]);return e.join('')}b.exports=a},{}],3:[function(e,a,f){'use strict';function b(b,d){var a=-1,c=b.length;while(++a<c)if(d(b[a],a)===!1)return!1;return!0}function c(b,d){var a=b.length,c=-1;while(--a>c)if(d(b[a],a)===!1)return!1;return!0}function d(i,a,d,f){var g,e,h;typeof a==='function'&&(f=d,d=a,a=null),g=f?c:b,h=function(a,b){return g(a,function(a,c){return a&&e(a,c,b)})},e=function(b,c,f){var e;return c=c||(f?0:null),(!a||b.type===a)&&(e=d(b,c,f||null)),b.children&&e!==!1?h(b.children,b):e},e(i)}a.exports=d},{}]},{},[1])(1)})
